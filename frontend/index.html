<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inventory Management System</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- Mobile Header -->
    <header class="mobile-header">
        <button class="menu-toggle" onclick="toggleMobileMenu()">
            <i class="fas fa-bars"></i>
        </button>
        <h1><i class="fas fa-warehouse"></i> Inventory</h1>
        <button class="logout-btn" onclick="logout()">
            <i class="fas fa-sign-out-alt"></i>
        </button>
    </header>

    <div class="container">
        <!-- Mobile Bottom Navigation -->
        <nav class="bottom-nav">
            <a href="#dashboard" class="nav-item active" data-section="dashboard">
                <i class="fas fa-chart-bar"></i>
                <span>Dashboard</span>
            </a>
            <a href="#projects" class="nav-item" data-section="projects">
                <i class="fas fa-project-diagram"></i>
                <span>Projects</span>
            </a>
            <a href="#stock" class="nav-item" data-section="stock">
                <i class="fas fa-boxes"></i>
                <span>Stock</span>
            </a>
            <a href="#profit" class="nav-item" data-section="profit">
                <i class="fas fa-chart-line"></i>
                <span>Profit</span>
            </a>
        </nav>

        <!-- Mobile Sidebar (Hidden by default) -->
        <nav class="mobile-sidebar" id="mobileSidebar">
            <div class="sidebar-header">
                <h2><i class="fas fa-warehouse"></i> Inventory</h2>
                <button class="close-sidebar" onclick="toggleMobileMenu()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="admin-info">
                <i class="fas fa-user-shield"></i>
                <span>Admin Panel</span>
            </div>
            <ul class="nav-links">
                <li><a href="#dashboard" class="nav-link active" data-section="dashboard">
                    <i class="fas fa-chart-bar"></i> Dashboard
                </a></li>
                <li><a href="#projects" class="nav-link" data-section="projects">
                    <i class="fas fa-project-diagram"></i> Projects
                </a></li>
                <li><a href="#stock" class="nav-link" data-section="stock">
                    <i class="fas fa-boxes"></i> Stock
                </a></li>
                <li><a href="#profit" class="nav-link" data-section="profit">
                    <i class="fas fa-chart-line"></i> Profit
                </a></li>
                <li><a href="#" class="nav-link" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </a></li>
            </ul>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard Section -->
            <section id="dashboard" class="content-section active">
                <div class="section-header">
                    <h1>Dashboard</h1>
                    <button class="btn btn-primary mobile-btn" onclick="refreshData()">
                        <i class="fas fa-sync-alt"></i>
                        <span class="btn-text">Refresh</span>
                    </button>
                </div>

                <!-- Key Metrics Cards -->
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-icon">
                            <i class="fas fa-project-diagram"></i>
                        </div>
                        <div class="metric-info">
                            <h3 id="total-projects">0</h3>
                            <p>Total Projects</p>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon">
                            <i class="fas fa-boxes"></i>
                        </div>
                        <div class="metric-info">
                            <h3 id="total-stock-items">0</h3>
                            <p>Stock Items</p>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon">
                            <i class="fas fa-dollar-sign"></i>
                        </div>
                        <div class="metric-info">
                            <h3 id="total-profit">$0</h3>
                            <p>Total Profit</p>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="metric-info">
                            <h3 id="stock-value">$0</h3>
                            <p>Stock Value</p>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="quick-actions">
                    <h2>Quick Actions</h2>
                    <div class="action-grid">
                        <button class="action-card" onclick="openProjectModal()">
                            <i class="fas fa-plus-circle"></i>
                            <span>Add Project</span>
                        </button>
                        <button class="action-card" onclick="openStockModal()">
                            <i class="fas fa-plus-circle"></i>
                            <span>Add Stock</span>
                        </button>
                        <button class="action-card" onclick="showSection('profit')">
                            <i class="fas fa-chart-line"></i>
                            <span>View Profits</span>
                        </button>
                        <button class="action-card" onclick="exportAllData()">
                            <i class="fas fa-download"></i>
                            <span>Export Data</span>
                        </button>
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="recent-activity">
                    <h2>Recent Activity</h2>
                    <div class="activity-list" id="activity-list">
                        <div class="empty-state">
                            <i class="fas fa-inbox"></i>
                            <p>No recent activity</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Projects Section -->
            <section id="projects" class="content-section">
                <div class="section-header">
                    <h1>Projects</h1>
                    <button class="btn btn-primary mobile-btn" onclick="openProjectModal()">
                        <i class="fas fa-plus"></i>
                        <span class="btn-text">Add Project</span>
                    </button>
                </div>

                <div class="mobile-cards" id="projects-mobile">
                    <!-- Project cards will be populated by JavaScript -->
                </div>

                <div class="data-table desktop-only">
                    <table id="projects-table">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Status</th>
                                <th>Start Date</th>
                                <th>Budget</th>
                                <th>Profit</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="projects-tbody">
                            <!-- Project rows will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>

                <div class="empty-state" id="projects-empty" style="display: none;">
                    <i class="fas fa-project-diagram"></i>
                    <h3>No Projects Yet</h3>
                    <p>Start by adding your first project</p>
                    <button class="btn btn-primary" onclick="openProjectModal()">
                        <i class="fas fa-plus"></i> Add Project
                    </button>
                </div>
            </section>

            <!-- Stock Section -->
            <section id="stock" class="content-section">
                <div class="section-header">
                    <h1>Stock Management</h1>
                    <button class="btn btn-primary mobile-btn" onclick="openStockModal()">
                        <i class="fas fa-plus"></i>
                        <span class="btn-text">Add Stock</span>
                    </button>
                </div>

                <div class="mobile-cards" id="stock-mobile">
                    <!-- Stock cards will be populated by JavaScript -->
                </div>

                <div class="data-table desktop-only">
                    <table id="stock-table">
                        <thead>
                            <tr>
                                <th>Item Name</th>
                                <th>Category</th>
                                <th>Quantity</th>
                                <th>Unit Price</th>
                                <th>Total Value</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="stock-tbody">
                            <!-- Stock rows will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>

                <div class="empty-state" id="stock-empty" style="display: none;">
                    <i class="fas fa-boxes"></i>
                    <h3>No Stock Items</h3>
                    <p>Add your first inventory item</p>
                    <button class="btn btn-primary" onclick="openStockModal()">
                        <i class="fas fa-plus"></i> Add Stock Item
                    </button>
                </div>
            </section>

            <!-- Profit Section -->
            <section id="profit" class="content-section">
                <div class="section-header">
                    <h1>Profit Analysis</h1>
                    <div class="mobile-filters">
                        <input type="month" id="profit-month" onchange="filterProfitData()">
                        <button class="btn btn-secondary mobile-btn" onclick="exportProfitReport()">
                            <i class="fas fa-download"></i>
                            <span class="btn-text">Export</span>
                        </button>
                    </div>
                </div>

                <div class="profit-grid">
                    <div class="profit-card">
                        <h3>Monthly Profit</h3>
                        <p class="profit-amount" id="monthly-profit">$0</p>
                    </div>
                    <div class="profit-card">
                        <h3>Project Revenue</h3>
                        <p class="profit-amount" id="project-revenue">$0</p>
                    </div>
                    <div class="profit-card">
                        <h3>Stock Turnover</h3>
                        <p class="profit-amount" id="stock-turnover">0%</p>
                    </div>
                </div>

                <div class="mobile-cards" id="profit-mobile">
                    <!-- Profit cards will be populated by JavaScript -->
                </div>

                <div class="profit-details">
                    <h2>Profit Breakdown</h2>
                    <div class="data-table desktop-only">
                        <table id="profit-table">
                            <thead>
                                <tr>
                                    <th>Source</th>
                                    <th>Type</th>
                                    <th>Amount</th>
                                    <th>Date</th>
                                    <th>Margin</th>
                                </tr>
                            </thead>
                            <tbody id="profit-tbody">
                                <!-- Profit rows will be populated by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="empty-state" id="profit-empty" style="display: none;">
                    <i class="fas fa-chart-line"></i>
                    <h3>No Profit Data</h3>
                    <p>Profit data will appear here as you add projects</p>
                </div>
            </section>
        </main>
    </div>

    <!-- Project Modal -->
    <div id="project-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="project-modal-title">Add Project</h2>
                <span class="close" onclick="closeProjectModal()">&times;</span>
            </div>
            <form id="project-form">
                <div class="form-group">
                    <label for="project-name">Project Name</label>
                    <input type="text" id="project-name" required>
                </div>
                <div class="form-group">
                    <label for="project-status">Status</label>
                    <select id="project-status" required>
                        <option value="planning">Planning</option>
                        <option value="in-progress">In Progress</option>
                        <option value="completed">Completed</option>
                        <option value="on-hold">On Hold</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="project-start-date">Start Date</label>
                    <input type="date" id="project-start-date" required>
                </div>
                <div class="form-group">
                    <label for="project-budget">Budget ($)</label>
                    <input type="number" id="project-budget" step="0.01" required>
                </div>
                <div class="form-group">
                    <label for="project-profit">Profit ($)</label>
                    <input type="number" id="project-profit" step="0.01" value="0">
                </div>
                <div class="form-group">
                    <label for="project-description">Description</label>
                    <textarea id="project-description"></textarea>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeProjectModal()">Cancel</button>
                    <button type="submit" class="btn btn-primary">Save Project</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Stock Modal -->
    <div id="stock-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="stock-modal-title">Add Stock Item</h2>
                <span class="close" onclick="closeStockModal()">&times;</span>
            </div>
            <form id="stock-form">
                <div class="form-group">
                    <label for="stock-name">Item Name</label>
                    <input type="text" id="stock-name" required>
                </div>
                <div class="form-group">
                    <label for="stock-category">Category</label>
                    <select id="stock-category" required>
                        <option value="materials">Materials</option>
                        <option value="tools">Tools</option>
                        <option value="equipment">Equipment</option>
                        <option value="supplies">Supplies</option>
                        <option value="finished-goods">Finished Goods</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="stock-quantity">Quantity</label>
                    <input type="number" id="stock-quantity" min="0" required>
                </div>
                <div class="form-group">
                    <label for="stock-unit-price">Unit Price ($)</label>
                    <input type="number" id="stock-unit-price" step="0.01" min="0" required>
                </div>
                <div class="form-group">
                    <label for="stock-min-threshold">Minimum Threshold</label>
                    <input type="number" id="stock-min-threshold" min="0" value="10">
                </div>
                <div class="form-group">
                    <label for="stock-supplier">Supplier</label>
                    <input type="text" id="stock-supplier">
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeStockModal()">Cancel</button>
                    <button type="submit" class="btn btn-primary">Save Item</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Loading Spinner -->
    <div id="loading-spinner" class="loading-spinner">
        <div class="spinner"></div>
    </div>

    <!-- Toast Notifications -->
    <div id="toast-container" class="toast-container"></div>

    <script src="script.js"></script>
</body>
</html>